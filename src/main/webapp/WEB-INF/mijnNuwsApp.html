
<!DOCTYPE html>
<html>
    <head>
	<script>			
            function test(){
                var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("outputserver").innerHTML = "";
                            var data = JSON.parse(this.responseText);
                            for (i = 0; i < data.length; i++) {
                            	   var j = parseInt(i);
                                var textaccumulation = "<a onclick='loadItem("+i+")'><div class=\"thumb\">" + data[j].title  + "</div></a>";
                                document.getElementById("outputserver").innerHTML += textaccumulation;
                            }
                                
                        }
                    };
                xhttp.open("GET", "http://localhost:8082/nuwstitles");
                xhttp.setRequestHeader("Content-type", "application/json");
                xhttp.send();
            }	
            function loadItem(n){
                var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("loadnews").innerHTML = "";
                            var nieuwsitem = JSON.parse(this.responseText);
                            
                                var textaccumulation = nieuwsitem.title  + "<br><br>" + nieuwsitem.sub + "<br><br>" + nieuwsitem.bodytext;
                                document.getElementById("loadnews").innerHTML += textaccumulation;
                            
                                
                        }
                    };
                 var numb = parseInt(n+1);
                xhttp.open("GET", "http://localhost:8082/nuws2/"+numb);
                xhttp.setRequestHeader("Content-type", "application/json");
                xhttp.send();
            }
            
            function register(){
                var xhttp = new XMLHttpRequest();
                    xhttp.onreadystatechange = function() {
                        if (this.readyState == 4 && this.status == 200) {
                        document.getElementById("loadnews").innerHTML = "";
                            var nieuwsitem = JSON.parse(this.responseText);
                            
                                var textaccumulation = nieuwsitem.title  + "<br><br>" + nieuwsitem.sub + "<br><br>" + nieuwsitem.bodytext;
                                document.getElementById("loadnews").innerHTML += textaccumulation;
                            
                                
                        }
                    };
                xhttp.open("GET", "http://localhost:8082/register/");
                xhttp.setRequestHeader("Content-type", "application/json");
                xhttp.send();
            }
            
            
            
	</script>
	<style>
	.thumbpane {
		width:45%;
		float:left;
		background-color: #fff;
		padding-right:35px;
		z-index:1;
	}
	.textpane {
		width:45%;
		height:500px;
		float:left;
		margin-left:35px;
		background-color: #eee;
		overflow:scroll;
		margin-top:35px;
	}
	.thumb {
		width:120px;
		height:120px;
		margin-left:35px;
		margin-top:35px;
		padding:4px;
		background-color: #09f;
		color:#fff;
		align:center;
		float:right;
		z-index:2;
		
	}
	</style>
    </head>
    <body onload="test()">
        
        <button type="button" id="buttoninput" onclick="test()" >Refresh</button>
        <hr>	
        <div class="thumbpane" id="outputserver"></div>
        <div class="textpane" id="loadnews"></div>
        <div>
        
  			Username: <input type="text" name="username"><br>
  			Password: <input type="text" name="password"><br>
 			 <input type="submit" value="Register" onclick="register()">
		
        </div>
    </body>
</html>