<!DOCTYPE html>
<html>
	<head>
		<script>

			function verstuur(){
      			var newUrl= document.getElementById("nieuwsurlinput").value;
      			var newTags= document.getElementById("nieuwstagsinput").value;
				var nieuwsitem = '{"tags":["'+newTags+'"] ,"url":"'+newUrl+'"}'; 
				console.log(nieuwsitem);
				//'{"url":"'+ent+'"}'
      			var xhttp = new XMLHttpRequest();
				xhttp.onreadystatechange = function() {
					if (this.readyState == 4 && this.status == 202) {
  						document.getElementById("outputserver").innerHTML = this.responseText;
					}
				};
      			xhttp.open("POST", "http://localhost:8082/nuwspost", true);
				xhttp.setRequestHeader("Content-type", "application/json");
				xhttp.send(nieuwsitem);
			}
			
			function test(){
				
				
          		var xhttp = new XMLHttpRequest();
  				xhttp.onreadystatechange = function() {
    					if (this.readyState == 4 && this.status == 200) {
    						var data = JSON.parse(this.responseText);
    						for (i = 0; i < data.length; i++)
    						document.getElementById("outputserver").innerHTML += data[i].id + data[i].tags + data[i].url + "<br>";
    					}
  				};
          		xhttp.open("GET", "http://localhost:8082/nuws2");
				xhttp.setRequestHeader("Content-type", "application/json");
				xhttp.send();
			}
			
		</script>
	</head>
	<body>
			
		Via dit invoerscherm en deze knop Post ik een NieuwsItem, met de naam die ik invoer.<br>
		<input type="text" id="nieuwsurlinput" name="FirstName" value="Nieuws url input"><br>
		<input type="text" id="nieuwstagsinput" name="FirstName" value="Nieuws tags input">format: "tag1", "tag2", "tag3"<br>
		<button type="button" id="buttoninput" onclick="verstuur()">Posten van een NieuwsItem via Post</button>
		<hr>
		
		Met deze knop Haal ik  op:
		<button type="button" id="buttoninput" onclick="test()">Ophalen van een NieuwsItem via Get</button>
		<hr>	
		<div id="outputserver"></div>
	</body>
</html>